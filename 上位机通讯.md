# 潜龙接收机与PC通信协议
##串口通信规范
a.波特率115200bps，串口模式为 8n1，即每个数据传送采用十个位，包括1个起始位、8个数据位、1个停止位。
b.用ASCII编码方式
## PC 读取接收机
⑴ PC读取接收机所有保存数据（导出数据）：
“[{RD-RECORD}]”

	接收机应答：
		“[{RD-RECORD_年-月-日,时-分-秒,模式,频率,条形图,灵敏度等级,测量类型,深度, 摆动警告,过载,B叶片角度标志,叶片角度,P叶片角度标志,叶片角度,自检,纬度,N/S指示器,经度,E/W指示器,报警区深度,报警区激活}]”
	注：保存数据有多少发多少出来。

⑵ PC读取接收机某天数据：
“[{RD-SINGLE-RECORD_年-月-日}]”

接收机应答：
“[{RD-SINGLE-RECORD_年-月-日,时-分-秒,模式,频率,条形图,灵敏度等级,测量类型,深度, 摆动警告,过载,B叶片角度标志,叶片角度,P叶片角度标志,叶片角度,自检,纬度,N/S指示器,经度,E/W指示器,报警区深度,报警区激活}]”
注：当天保存数据有多少发多少出来。

⑶ PC读取硬件信息：
“[{RD-HW-VER}]”
接收机应答：
“[{RD-HW-VER_硬件DSP版本号,采集板版本号,LCD版本,电池版本号}]”
⑷ PC读取固件信息：
“[{RD-FW-VER}]”
接收机应答：
“[{RD-FW-VER_DSP软件版本号,LCD版本}]”

## PC 设置
⑴ PC设置距离补偿系数命令：
“[{WR-DIST-FACTOR_K1,K2,K3,K4}]”
	系数“K1,K2,K3,K4”定义：
对距离补偿公式Y = K4*X3+K3*X2+K2*X+K1的四个系数进行设置，Kn为带符号的浮点型系数。

接收机应答：
“[{OK/FAIL}]”

⑵ PC设置出厂日期命令：
“[{WR-SHIP-DATA_年-月-日}]”

		
接收机应答：
“[{OK/FAIL}]”

⑶ PC设置硬件DSP版本号命令：
“[{WR-HW-DSP_DSP版本号}]”
接收机应答：
“[{OK/FAIL}]”

⑷ PC设置硬件采集板版本号命令：
“[{WR-HW-CAP_采集板版本号}]”
接收机应答：
“[{OK/FAIL}]”

⑸ PC设置LCD硬件版本号命令：
“[{WR-HW-LCD_LCD硬件版本号}]”
接收机应答：
“[{OK/FAIL}]”

⑹ PC设置电池型号命令：
“[{WR-BATTERY-VER_电池型号}]”
接收机应答：
“[{OK/FAIL}]”

⑺ PC设置DSP软件版本号命令：
“[{WR-FW-DSP_DSP软件版本号}]”
接收机应答：
“[{OK/FAIL}]”

⑻ PC设置LCD软件版本号命令：
“[{WR-FW-LCD_LCD软件版本号}]”
接收机应答：
“[{OK/FAIL}]”

⑼ PC设置频率的增益初始值命令：
“[{WR-GAIN50_增益初始值}]”//50HZ
“[{WR-GAIN512_增益初始值}]”//512HZ
“[{WR-GAIN640_增益初始值}]”//640HZ
“[{WR-GAIN8K_增益初始值}]”//8KHZ
“[{WR-GAIN33K_增益初始值}]”//33KHZ
“[{WR-GAIN131K_增益初始值}]”//131KHZ
“[{WR-GAINCF_增益初始值}]”// CF
		
接收机应答：
“[{OK/FAIL}]”

⑽ PC校正日期命令：
“[{WR-SET-DATE_年-月-日}]”

接收机应答：
“[{OK/FAIL}]”

⑾ PC校正时间命令：
	“[{WR-SET-TIME_时-分-秒}]”

接收机应答：
“[{OK/FAIL}]”